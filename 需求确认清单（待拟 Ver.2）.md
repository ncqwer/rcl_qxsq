# 需求确认清单（待拟 Ver.2）

> 本文件部分词语存在约定语境（均被特殊颜色标注），其具体语意见附录。


## 需求
当前需求主要化为2方面：

- 历史数据统计图表的呈现
  - 明确的需求
    - 共有7张图表：
      - [x] n年内月度雨量统计柱状图
        - [x] 提供年度区间筛选项 
        - [x] x轴`月份`，y轴该月平均量 
  		- [x] 24小时内暴雨出现的折线图
    		- [x] x轴`时间`，y轴出现暴雨的次数
      - [x] n年内月度积水量统计柱状图
        - [x] 提供年度区间筛选项 
        - [x] x轴`月份`，y轴该月平均量 
      - [x] 一天内不同地区积水统计折线图 
        - [x] x轴`时间`，y轴水位，z轴（不同地区，用不同折线表示）
      - [x] 一年内每天反应河道水位变化的柱状图
        - [x] x轴`日期`，y轴水位
      - [x] 一年内每天反应河道水位变化的折线图
        - [x] x轴`日期`，y轴水位
      - [x] 一天内雨量与积水的柱状图
        - [x] x轴`日期`，y1轴水位, y2轴积水
    - 数据来源
      - 每张图标均独立配置数据源
        - 数据由excel导入，并具备持久化功能以避免重复导入
        - 每张excel均共享同一格式
    - 图表交互区域
      - 暂无特定需求，视后续添加

- 积水风险等级的域值计算模块
  - 明确的需求：
    - [x] 因变量
      - 最大小时雨强（X）
      - 最大3小时雨量 (Y)
      - 累计雨量 （Z）
      - 持续时间 (T)
      - 河道水位 （H）
    - [x] 分数换算表[^1]
    - [x] 等级计算公式[^1]： $W=0.3X + 0.2Y + 0.2Z + 0.2T + 0.1H$

- 积水风险等级的预警展示模块
  - 明确的需求：
    - [x] 因变量
      - 最大小时雨强（X）
      - 最大3小时雨量 (Y)
      - 累计雨量 （Z）
      - 持续时间 (T)
      - 河道水位 （H）
    - [x] 等级计算公式[^1]： $W=0.3X + 0.2Y + 0.2Z + 0.2T + 0.1H$
		- [x] 相应等级的预警模版[^1]



## 附录

### 时间类型

- 时间：特指 0-24小时的第0分钟第0秒（eg. n小时 -> n:00） 
- 日期：特指具体日期，格式为`YYYY-MM-DD`(eg. 2020-10-22)
- 月份：特指第几月（eg.9月）


[^1]: 暂时为固定不变值，如后续修改请提交工单